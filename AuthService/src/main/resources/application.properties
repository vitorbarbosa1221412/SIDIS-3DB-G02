# --- 1. Configuração do Servidor Web HTTPS + mTLS ---
server.port=8443
server.ssl.enabled=true

# Key store do servidor (AuthService)
server.ssl.key-store=classpath:authservice-keystore.p12
server.ssl.key-store-type=PKCS12
server.ssl.key-store-password=sidis123
server.ssl.key-alias=auth-server

# Trust store do servidor
server.ssl.trust-store=classpath:authservice-truststore.p12
server.ssl.trust-store-type=PKCS12
server.ssl.trust-store-password=sidis123

# Exige autenticação do cliente (mTLS)
server.ssl.client-auth=need

# --- 2. Configuração Banco H2 ---
spring.datasource.url=jdbc:h2:file:./authdb/db-auth
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.jpa.hibernate.ddl-auto=update

# --- 3. URLs internas do serviço ---
auth.service.url=https://localhost:8443
user.auth.search.urls=https://auth1.example.com/api/users,https://auth2.example.com/api/users

# --- 4. Configuração do Client SSL (para chamadas externas com mTLS) ---
# CORRIGIDO: Usa patientservice-keystore.p12 (Keystore do cliente)
client.ssl.key-store=classpath:patientservice-keystore.p12
client.ssl.key-store-password=sidis123
client.ssl.key-password=sidis123
# CORRIGIDO: Usa patientservice-truststore.p12 (Truststore do cliente)
client.ssl.trust-store=classpath:patientservice-truststore.p12
client.ssl.trust-store-password=sidis123




