<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1145px" preserveAspectRatio="none" style="width:1882px;height:1145px;background:#FFFFFF;" version="1.1" viewBox="0 0 1882 1145" width="1882px" zoomAndPan="magnify"><title>US Appointment Schedule</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="175.7973" x="854.1531" y="28.0059">US Appointment Schedule</text><rect fill="#DDDDDD" height="1095.6" style="stroke:#181818;stroke-width:0.5;" width="750.6957" x="503.6339" y="43.7999"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="207.3242" x="775.3196" y="55.8769">Appointment Service (Instance X)</text><g><title>Patient</title><rect fill="#FFFFFF" height="883.4001" style="stroke:#181818;stroke-width:1;" width="10" x="39.7909" y="151.1999"/></g><g><title>API Gateway</title><rect fill="#FFFFFF" height="883.4001" style="stroke:#181818;stroke-width:1;" width="10" x="237.2111" y="151.1999"/></g><g><title>Appointment Service Controller</title><rect fill="#FFFFFF" height="793" style="stroke:#181818;stroke-width:1;" width="10" x="606.4995" y="211.9999"/></g><g><title>Appointment Service Service</title><rect fill="#FFFFFF" height="718.2" style="stroke:#181818;stroke-width:1;" width="10" x="924.5028" y="257.1999"/></g><g><title>Appointment Service Repository</title><rect fill="#FFFFFF" height="29.6" style="stroke:#181818;stroke-width:1;" width="10" x="1138.349" y="726.9999"/></g><g><title>Patient Service .Instance X.</title><rect fill="#FFFFFF" height="444.2" style="stroke:#181818;stroke-width:1;" width="10" x="1349.0872" y="494.5999"/></g><g><title>Physician Service .Instance X.</title><rect fill="#FFFFFF" height="659" style="stroke:#181818;stroke-width:1;" width="10" x="1554.7645" y="316.4"/></g><g><title>RabbitMQ</title><rect fill="#FFFFFF" height="573.7999" style="stroke:#181818;stroke-width:1;" width="10" x="1818.5967" y="286.7999"/></g><rect fill="none" height="91.9999" style="stroke:#000000;stroke-width:1.5;" width="427.2587" x="1447.8449" y="374"/><rect fill="none" height="91.9999" style="stroke:#000000;stroke-width:1.5;" width="624.774" x="1250.3296" y="552.1999"/><rect fill="none" height="384.4001" style="stroke:#000000;stroke-width:1.5;" width="1865.1036" x="10" y="658.1999"/><g><title>Patient</title><rect fill="#000000" fill-opacity="0.00000" height="940.0001" width="8" x="40.7909" y="119.5999"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="44" x2="44" y1="119.5999" y2="1059.6"/></g><g><title>API Gateway</title><rect fill="#000000" fill-opacity="0.00000" height="940.0001" width="8" x="238.2111" y="119.5999"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="241.3592" x2="241.3592" y1="119.5999" y2="1059.6"/></g><g><title>Appointment Service Controller</title><rect fill="#000000" fill-opacity="0.00000" height="940.0001" width="8" x="607.4995" y="119.5999"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="610.6339" x2="610.6339" y1="119.5999" y2="1059.6"/></g><g><title>Appointment Service Service</title><rect fill="#000000" fill-opacity="0.00000" height="940.0001" width="8" x="925.5028" y="119.5999"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="928.6372" x2="928.6372" y1="119.5999" y2="1059.6"/></g><g><title>Appointment Service Repository</title><rect fill="#000000" fill-opacity="0.00000" height="940.0001" width="8" x="1139.349" y="119.5999"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1142.3684" x2="1142.3684" y1="119.5999" y2="1059.6"/></g><g><title>Patient Service .Instance X.</title><rect fill="#000000" fill-opacity="0.00000" height="940.0001" width="8" x="1350.0872" y="119.5999"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1353.3296" x2="1353.3296" y1="119.5999" y2="1059.6"/></g><g><title>Physician Service .Instance X.</title><rect fill="#000000" fill-opacity="0.00000" height="940.0001" width="8" x="1555.7645" y="119.5999"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1558.8449" x2="1558.8449" y1="119.5999" y2="1059.6"/></g><g><title>RabbitMQ</title><rect fill="#000000" fill-opacity="0.00000" height="940.0001" width="8" x="1819.5967" y="119.5999"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1823.0899" x2="1823.0899" y1="119.5999" y2="1059.6"/></g><g class="participant participant-head" data-participant="Patient"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.5818" x="20" y="115.8059">Patient</text><ellipse cx="44.7909" cy="51.2999" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M44.7909,59.2999 L44.7909,86.2999 M31.7909,67.2999 L57.7909,67.2999 M44.7909,86.2999 L31.7909,101.2999 M44.7909,86.2999 L57.7909,101.2999" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Patient"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.5818" x="20" y="1071.6059">Patient</text><ellipse cx="44.7909" cy="1083.8999" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M44.7909,1091.8999 L44.7909,1118.8999 M31.7909,1099.8999 L57.7909,1099.8999 M44.7909,1118.8999 L31.7909,1133.8999 M44.7909,1118.8999 L57.7909,1133.8999" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Gateway"><rect fill="#E2E2F0" height="30.7999" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.7037" x="194.3592" y="87.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7037" x="201.3592" y="107.8059">API Gateway</text></g><g class="participant participant-tail" data-participant="Gateway"><rect fill="#E2E2F0" height="30.7999" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.7037" x="194.3592" y="1058.6"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7037" x="201.3592" y="1078.6059">API Gateway</text></g><g class="participant participant-head" data-participant="AppointSvc_Controller"><rect fill="#E2E2F0" height="30.7999" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="207.7312" x="507.6339" y="87.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193.7312" x="514.6339" y="107.8059">Appointment Service Controller</text></g><g class="participant participant-tail" data-participant="AppointSvc_Controller"><rect fill="#E2E2F0" height="30.7999" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="207.7312" x="507.6339" y="1058.6"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193.7312" x="514.6339" y="1078.6059">Appointment Service Controller</text></g><g class="participant participant-head" data-participant="AppointSvc_Service"><rect fill="#E2E2F0" height="30.7999" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="193.7313" x="832.6372" y="87.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179.7313" x="839.6372" y="107.8059">Appointment Service Service</text></g><g class="participant participant-tail" data-participant="AppointSvc_Service"><rect fill="#E2E2F0" height="30.7999" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="193.7313" x="832.6372" y="1058.6"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179.7313" x="839.6372" y="1078.6059">Appointment Service Service</text></g><g class="participant participant-head" data-participant="AppointSvc_Repository"><rect fill="#E2E2F0" height="30.7999" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="213.9612" x="1036.3684" y="87.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199.9612" x="1043.3684" y="107.8059">Appointment Service Repository</text></g><g class="participant participant-tail" data-participant="AppointSvc_Repository"><rect fill="#E2E2F0" height="30.7999" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="213.9612" x="1036.3684" y="1058.6"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199.9612" x="1043.3684" y="1078.6059">Appointment Service Repository</text></g><g class="participant participant-head" data-participant="PatientSvc"><rect fill="#E2E2F0" height="30.7999" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="187.5153" x="1260.3296" y="87.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173.5153" x="1267.3296" y="107.8059">Patient Service (Instance X)</text></g><g class="participant participant-tail" data-participant="PatientSvc"><rect fill="#E2E2F0" height="30.7999" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="187.5153" x="1260.3296" y="1058.6"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173.5153" x="1267.3296" y="1078.6059">Patient Service (Instance X)</text></g><g class="participant participant-head" data-participant="PhysicianSvc"><rect fill="#E2E2F0" height="30.7999" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="203.8392" x="1457.8449" y="87.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189.8392" x="1464.8449" y="107.8059">Physician Service (Instance X)</text></g><g class="participant participant-tail" data-participant="PhysicianSvc"><rect fill="#E2E2F0" height="30.7999" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="203.8392" x="1457.8449" y="1058.6"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189.8392" x="1464.8449" y="1078.6059">Physician Service (Instance X)</text></g><g class="participant participant-head" data-participant="Broker"><path d="M1787.0899,92.7999 L1860.1036,92.7999 C1865.1036,92.7999 1865.1036,106.1999 1865.1036,106.1999 C1865.1036,106.1999 1865.1036,119.5999 1860.1036,119.5999 L1787.0899,119.5999 C1782.0899,119.5999 1782.0899,106.1999 1782.0899,106.1999 C1782.0899,106.1999 1782.0899,92.7999 1787.0899,92.7999" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1860.1036,92.7999 C1855.1036,92.7999 1855.1036,106.1999 1855.1036,106.1999 C1855.1036,119.5999 1860.1036,119.5999 1860.1036,119.5999" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.0137" x="1787.0899" y="110.8059">RabbitMQ</text></g><g class="participant participant-tail" data-participant="Broker"><path d="M1787.0899,1058.6 L1860.1036,1058.6 C1865.1036,1058.6 1865.1036,1071.9999 1865.1036,1071.9999 C1865.1036,1071.9999 1865.1036,1085.3999 1860.1036,1085.3999 L1787.0899,1085.3999 C1782.0899,1085.3999 1782.0899,1071.9999 1782.0899,1071.9999 C1782.0899,1071.9999 1782.0899,1058.6 1787.0899,1058.6" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1860.1036,1058.6 C1855.1036,1058.6 1855.1036,1071.9999 1855.1036,1071.9999 C1855.1036,1085.3999 1860.1036,1085.3999 1860.1036,1085.3999" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.0137" x="1787.0899" y="1076.6059">RabbitMQ</text></g><g><title>Patient</title><rect fill="#FFFFFF" height="883.4001" style="stroke:#181818;stroke-width:1;" width="10" x="39.7909" y="151.1999"/></g><g><title>API Gateway</title><rect fill="#FFFFFF" height="883.4001" style="stroke:#181818;stroke-width:1;" width="10" x="237.2111" y="151.1999"/></g><g><title>Appointment Service Controller</title><rect fill="#FFFFFF" height="793" style="stroke:#181818;stroke-width:1;" width="10" x="606.4995" y="211.9999"/></g><g><title>Appointment Service Service</title><rect fill="#FFFFFF" height="718.2" style="stroke:#181818;stroke-width:1;" width="10" x="924.5028" y="257.1999"/></g><g><title>Appointment Service Repository</title><rect fill="#FFFFFF" height="29.6" style="stroke:#181818;stroke-width:1;" width="10" x="1138.349" y="726.9999"/></g><g><title>Patient Service .Instance X.</title><rect fill="#FFFFFF" height="444.2" style="stroke:#181818;stroke-width:1;" width="10" x="1349.0872" y="494.5999"/></g><g><title>Physician Service .Instance X.</title><rect fill="#FFFFFF" height="659" style="stroke:#181818;stroke-width:1;" width="10" x="1554.7645" y="316.4"/></g><g><title>RabbitMQ</title><rect fill="#FFFFFF" height="573.7999" style="stroke:#181818;stroke-width:1;" width="10" x="1818.5967" y="286.7999"/></g><g class="message" data-participant-1="Patient" data-participant-2="Gateway"><polygon fill="#181818" points="225.2111,147.1999,235.2111,151.1999,225.2111,155.1999,229.2111,151.1999" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="49.7909" x2="231.2111" y1="151.1999" y2="151.1999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.4202" x="56.7909" y="145.6769">Asks to schedule appointment</text></g><g class="message" data-participant-1="Gateway" data-participant-2="AppointSvc_Controller"><polygon fill="#181818" points="594.4995,207.9999,604.4995,211.9999,594.4995,215.9999,598.4995,211.9999" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="247.2111" x2="600.4995" y1="211.9999" y2="211.9999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266.6303" x="254.2111" y="175.2769">POST api/appointments/scheduleAppointment</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.5392" x="257.8251" y="190.8769">Headers(Bearer Token)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336.6744" x="257.8251" y="206.4769">Json Body(physicianNumber, dateTime, consultationType)</text></g><g class="message" data-participant-1="AppointSvc_Controller" data-participant-2="AppointSvc_Service"><polygon fill="#181818" points="912.5028,253.1999,922.5028,257.1999,912.5028,261.1999,916.5028,257.1999" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="616.4995" x2="918.5028" y1="257.1999" y2="257.1999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289.0033" x="623.4995" y="236.0769">scheduleAppointmentByPatient(physicianNumber,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.0082" x="623.4995" y="251.6769">dateTime, consultationType)</text></g><g class="message" data-participant-1="AppointSvc_Service" data-participant-2="Broker"><polygon fill="#181818" points="1806.5967,282.7999,1816.5967,286.7999,1806.5967,290.7999,1810.5967,286.7999" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="934.5028" x2="1812.5967" y1="286.7999" y2="286.7999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213.8892" x="941.5028" y="281.2769">publish AppointmentRequestedEvent</text></g><g class="message" data-participant-1="Broker" data-participant-2="PhysicianSvc"><polygon fill="#181818" points="1575.7645,312.4,1565.7645,316.4,1575.7645,320.4,1571.7645,316.4" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1569.7645" x2="1817.5967" y1="316.4" y2="316.4"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234.8322" x="1581.7645" y="310.877">subscribes AppointmentRequestedEvent</text></g><g class="message" data-participant-1="PhysicianSvc" data-participant-2="PhysicianSvc"><line style="stroke:#181818;stroke-width:1;" x1="1564.7645" x2="1606.7645" y1="346" y2="346"/><line style="stroke:#181818;stroke-width:1;" x1="1606.7645" x2="1606.7645" y1="346" y2="359"/><line style="stroke:#181818;stroke-width:1;" x1="1565.7645" x2="1606.7645" y1="359" y2="359"/><polygon fill="#181818" points="1575.7645,355,1565.7645,359,1575.7645,363,1571.7645,359" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185.6532" x="1571.7645" y="340.477">checks Physician WorkingHours</text></g><path d="M1447.8449,374 L1508.0159,374 L1508.0159,381.6 L1498.0159,391.6 L1447.8449,391.6 L1447.8449,374" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="91.9999" style="stroke:#000000;stroke-width:1.5;" width="427.2587" x="1447.8449" y="374"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.171" x="1462.8449" y="387.077">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="91.7063" x="1523.0159" y="386.2189">[successful case]</text><g class="message" data-participant-1="PhysicianSvc" data-participant-2="Broker"><polygon fill="#181818" points="1806.5967,409.2,1816.5967,413.2,1806.5967,417.2,1810.5967,413.2" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1564.7645" x2="1812.5967" y1="413.2" y2="413.2"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.5081" x="1571.7645" y="407.677">publish PhysicianBooked</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="1447.8449" x2="1875.1036" y1="422.2" y2="422.2"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="111.2422" x="1452.8449" y="432.4189">[some kind of failure]</text><g class="message" data-participant-1="PhysicianSvc" data-participant-2="Broker"><polygon fill="#181818" points="1806.5967,453.9999,1816.5967,457.9999,1806.5967,461.9999,1810.5967,457.9999" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1564.7645" x2="1812.5967" y1="457.9999" y2="457.9999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.4512" x="1571.7645" y="452.4769">publish PhysicianBookedFail</text></g><g class="message" data-participant-1="Broker" data-participant-2="PatientSvc"><polygon fill="#181818" points="1370.0872,490.5999,1360.0872,494.5999,1370.0872,498.5999,1366.0872,494.5999" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1364.0872" x2="1817.5967" y1="494.5999" y2="494.5999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.4512" x="1376.0872" y="489.0769">subscribes PhysicianBooked</text></g><g class="message" data-participant-1="PatientSvc" data-participant-2="PatientSvc"><line style="stroke:#181818;stroke-width:1;" x1="1359.0872" x2="1401.0872" y1="524.1999" y2="524.1999"/><line style="stroke:#181818;stroke-width:1;" x1="1401.0872" x2="1401.0872" y1="524.1999" y2="537.1999"/><line style="stroke:#181818;stroke-width:1;" x1="1360.0872" x2="1401.0872" y1="537.1999" y2="537.1999"/><polygon fill="#181818" points="1370.0872,533.1999,1360.0872,537.1999,1370.0872,541.1999,1366.0872,537.1999" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.3811" x="1366.0872" y="518.6769">checks PatientId</text></g><path d="M1250.3296,552.1999 L1310.5006,552.1999 L1310.5006,559.8 L1300.5006,569.8 L1250.3296,569.8 L1250.3296,552.1999" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="91.9999" style="stroke:#000000;stroke-width:1.5;" width="624.774" x="1250.3296" y="552.1999"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.171" x="1265.3296" y="565.277">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="91.7063" x="1325.5006" y="564.4189">[successful case]</text><g class="message" data-participant-1="PatientSvc" data-participant-2="Broker"><polygon fill="#181818" points="1806.5967,587.4,1816.5967,591.4,1806.5967,595.4,1810.5967,591.4" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1359.0872" x2="1812.5967" y1="591.4" y2="591.4"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.3501" x="1366.0872" y="585.877">publish PatientBooked</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="1250.3296" x2="1875.1036" y1="600.4" y2="600.4"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="111.2422" x="1255.3296" y="610.6189">[some kind of failure]</text><g class="message" data-participant-1="PatientSvc" data-participant-2="Broker"><polygon fill="#181818" points="1806.5967,632.1999,1816.5967,636.1999,1806.5967,640.1999,1810.5967,636.1999" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1359.0872" x2="1812.5967" y1="636.1999" y2="636.1999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.2932" x="1366.0872" y="630.6769">publish PatientBookedFail</text></g><path d="M10,658.1999 L70.171,658.1999 L70.171,665.7999 L60.171,675.7999 L10,675.7999 L10,658.1999" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="384.4001" style="stroke:#000000;stroke-width:1.5;" width="1865.1036" x="10" y="658.1999"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.171" x="25" y="671.2769">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="91.7063" x="85.171" y="670.4188">[successful case]</text><g class="message" data-participant-1="Broker" data-participant-2="AppointSvc_Service"><polygon fill="#181818" points="945.5028,693.3999,935.5028,697.3999,945.5028,701.3999,941.5028,697.3999" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="939.5028" x2="1817.5967" y1="697.3999" y2="697.3999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281.7883" x="951.5028" y="691.8769">consumes PhysicianBooked AND PatientBooked</text></g><g class="message" data-participant-1="AppointSvc_Service" data-participant-2="AppointSvc_Repository"><polygon fill="#181818" points="1126.349,722.9999,1136.349,726.9999,1126.349,730.9999,1130.349,726.9999" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="934.5028" x2="1132.349" y1="726.9999" y2="726.9999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.6531" x="941.5028" y="721.4769">save(appointment)</text></g><g class="message" data-participant-1="AppointSvc_Repository" data-participant-2="AppointSvc_Service"><polygon fill="#181818" points="945.5028,752.5999,935.5028,756.5999,945.5028,760.5999,941.5028,756.5999" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="939.5028" x2="1142.349" y1="756.5999" y2="756.5999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43.3551" x="951.5028" y="751.0769">created</text></g><g class="message" data-participant-1="AppointSvc_Service" data-participant-2="AppointSvc_Controller"><polygon fill="#181818" points="627.4995,782.2,617.4995,786.2,627.4995,790.2,623.4995,786.2" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="621.4995" x2="923.5028" y1="786.2" y2="786.2"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43.3551" x="633.4995" y="780.677">created</text></g><g class="message" data-participant-1="Gateway" data-participant-2="Patient"><polygon fill="#181818" points="60.7909,811.8,50.7909,815.8,60.7909,819.8,56.7909,815.8" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="54.7909" x2="236.2111" y1="815.8" y2="815.8"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43.3551" x="66.7909" y="810.277">created</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="10" x2="1875.1036" y1="824.8" y2="824.8"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="111.2422" x="15" y="835.0189">[some kind of failure]</text><g class="message" data-participant-1="Broker" data-participant-2="AppointSvc_Service"><polygon fill="#181818" points="945.5028,856.5999,935.5028,860.5999,945.5028,864.5999,941.5028,860.5999" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="939.5028" x2="1822.5967" y1="860.5999" y2="860.5999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315.7313" x="951.5028" y="855.0769">consumes PhysicianBookedFail OR PatientBookedFail</text></g><g class="message" data-participant-1="PatientSvc" data-participant-2="PatientSvc"><line style="stroke:#181818;stroke-width:1;" x1="1359.0872" x2="1401.0872" y1="890.1999" y2="890.1999"/><line style="stroke:#181818;stroke-width:1;" x1="1401.0872" x2="1401.0872" y1="890.1999" y2="903.1999"/><line style="stroke:#181818;stroke-width:1;" x1="1360.0872" x2="1401.0872" y1="903.1999" y2="903.1999"/><polygon fill="#181818" points="1370.0872,899.1999,1360.0872,903.1999,1370.0872,907.1999,1366.0872,903.1999" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70.8111" x="1366.0872" y="884.6769">compensate</text></g><g class="message" data-participant-1="PhysicianSvc" data-participant-2="PhysicianSvc"><line style="stroke:#181818;stroke-width:1;" x1="1564.7645" x2="1606.7645" y1="932.7999" y2="932.7999"/><line style="stroke:#181818;stroke-width:1;" x1="1606.7645" x2="1606.7645" y1="932.7999" y2="945.7999"/><line style="stroke:#181818;stroke-width:1;" x1="1565.7645" x2="1606.7645" y1="945.7999" y2="945.7999"/><polygon fill="#181818" points="1575.7645,941.7999,1565.7645,945.7999,1575.7645,949.7999,1571.7645,945.7999" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70.8111" x="1571.7645" y="927.2769">compensate</text></g><g class="message" data-participant-1="AppointSvc_Service" data-participant-2="AppointSvc_Controller"><polygon fill="#181818" points="627.4995,971.3999,617.4995,975.3999,627.4995,979.3999,623.4995,975.3999" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="621.4995" x2="928.5028" y1="975.3999" y2="975.3999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.07" x="633.4995" y="969.8769">failed</text></g><g class="message" data-participant-1="AppointSvc_Controller" data-participant-2="Gateway"><polygon fill="#181818" points="258.2111,1000.9999,248.2111,1004.9999,258.2111,1008.9999,254.2111,1004.9999" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="252.2111" x2="610.4995" y1="1004.9999" y2="1004.9999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.07" x="264.2111" y="999.4769">failed</text></g><g class="message" data-participant-1="Gateway" data-participant-2="Patient"><polygon fill="#181818" points="55.7909,1030.6,45.7909,1034.6,55.7909,1038.6,51.7909,1034.6" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="49.7909" x2="241.2111" y1="1034.6" y2="1034.6"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.07" x="61.7909" y="1029.077">failed</text></g><!--SRC=[dLLDZzem4BtxLumuWRIhlNEe1FrQAdMN0bLxM6db94EnIEpKTcZvznt0JXpYiD1J4dlcpPit7x72vWZVbp0fIoMaBL1QMAORpAeS6UEfLHhct0ewPwpasefKb9oCFdEBV_WUk871P3xptmEMgBzq4iAXteaKOJYJnd99Rpz7WnQMirxkqjVtIbgjyXpr2Jc2qvZqedZJFWZtxFLVOAcCeDptlH2DoO2Xp83IRg4vqGZj2E4-hn1ZljaRUkUoTlK7FSw_AwmGfbfjdMWBdYJ2VlqsOCo7lNzN5smC4xCrO1KOLsVWJNw7aeiTcTPLhmyS0FD0X1alt1ZcpyiLeOg70Day-7YXd2yI7f5dgCrmYboJzuhoaAF3nHUZ94nLjX-MNeAdgaXGtq5675QYm3j8bJHLReciagjzYIFMC8xIOt7IxMoyqcE8a9xkdJOTNY_o4h4OBnU8HM8J8rVKCPHLaWkp2STqWLHuOp7xk6kLwUJ3dEizeRGwYZAg4fDgaQ2v1YvqPYsaBZ99bL9hDGtxG-cjaByULQKDuxcbs6cAngoh759ki0FOIRWsc2gwoHZc1i6e0e60Cr1hM7EHL_fsg4_aTvZSbbBDqBPqEcTnFYH7RHhVSoIlo-bibiMbQFbtsP-ktvRX1fXQWXYVG9ReO1pxk-YA0vEd3sTiuyqTtxUaEz_XC5WSyS5fN5WSg9-uHiBAM8RNuzQqBomzZrllnwODWjl-olslu8SgmlCYKjeWGxSLBZMfAagKXepV7FF6CeWGZCADmXq4wAs7Nv1Xf70bzMpprW_lOe3Wpn2lNDVR_mdZsNTFZpFMby0_]--></g></svg>